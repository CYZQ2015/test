Predicting the early risk of chronic kidney disease in patients with diabetes using real-world data

Diagnostic procedures, therapeutic recommendations, and medical risk stratifications are based on dedicated, strictly controlled clinical trials. However, a plethora of real-world medical data exists, whereupon the increase in data volume comes at the expense of completeness, uniformity, and control. Here, a case-by-case comparison shows that the predictive power of our real world dataCbased model for diabetes-related chronic kidney disease outperforms published algorithms, which were derived from clinical study data.
Controlled clinical trials are currently the gold standard of medical decision making. These trials are usually conducted in an ideal setting with a preselected population, validated clinical data entries, and sometimes a narrow time window of observation. The outcomes inferred from the expansion of the original scope of clinical study data therefore do not necessarily reveal the optimum pathways in terms of efficacy and effectiveness for realworld populations1. The availability of big data in biomedicine 2,3 together with improvements in data mining, analytics, and modeling4 have sparked an increasing number of real-world evidence studies5 and have facilitated personalized and outcome-based health care 6.A recent study has shown the benefit of using claims data to develop predictive models of diabetes 7, a highly prevalent disorder of glucose metabolism. Electronic health records (EHRs) combined with deep feature learning and supervised classification schemes have been used to predict the occurrence of diabetes mellitus and other diseases.

使用实际数据预测糖尿病患者慢性肾脏疾病的早期风险

诊断程序，治疗建议和医学风险分层均基于严格控制的专门临床试验。但是，存在大量的现实世界医学数据，因此，数据量的增加是以完整性，统一性和控制性为代价的。在这里，个案比较表明，我们基于现实世界数据的糖尿病相关慢性肾脏病模型的预测能力优于已发表的从临床研究数据得出的算法。
对照临床试验目前是医学决策的金标准。这些试验通常在理想的环境中进行，需要预先选择的人群，经过验证的临床数据输入，有时还需要狭窄的观察时间范围。因此，根据临床研究数据原始范围的扩大推断出的结局并不一定能揭示针对现实世界人群的疗效和有效性的最佳途径。生物医学2,3中大数据的可用性以及数据挖掘，分析和建模4的改进引发了越来越多的现实证据研究5，并促进了个性化和基于结果的医疗保健6。最近的一项研究表明使用索赔数据开发糖尿病7的预测模型的好处，糖尿病是一种高度流行的葡萄糖代谢疾病。电子健康记录（EHR）与深度特征学习和监督分类方案相结合已被用来预测糖尿病和其他疾病的发生。

We carried out a direct comparison of algorithms derived from clinical data and real-world data (RWD) and focused on the medically, socially, and economically important example of quantifying the risk of chronic kidney disease (CKD)9C11 as a microvascular longterm complication of diabetes (see also Supplementary Table 1). 
EHR data from 417,912 people with diabetes (types 1 and 2) were retrieved from the IBM Explorys database12 (Supplementary Fig. 1). For each person, the extracted data began at 2 years before the initial diagnosis of diabetes and lasted until up to 3 years following this diagnosis. We used a data-driven, medically supported feature selection strategy rather than the Deep Patient strategy of Miotto et al., as Deep Patient is an unsupervised feature selection method and is best suited for the risk prediction concerning multiple diseases using hundreds of features. In contrast, the Roche/IBM method uses supervised selection of a limited number of features and targets a single disease.
Age, body mass index, and glomerular filtration rate as well as the concentrations of creatinine, albumin, glucose, and hemoglobin (HbA1C) were selected as important predictors on the basis of a data-driven and medical selection. Using these seven features, we deliberately chose logistic regression13 as the teaching method rather than a black box approach, such as deep learning14, to allow for medical interpretation of the data-driven analysis. After teaching, an independent sample set of data originating from 104,504 additional individuals in the same database was used for independent validation. Furthermore, the Roche/IBM algorithm was applied to data from 82,912 people with type 2 diabetes included in the Indiana Network for Patient Care (INPC) database15. Notably, these extracted datasets constitute the largest RWD basis that has been used thus far to investigate CKD as a long-term complication of diabetes.
The area under the receiver operating characteristic16 curve (AUC) is frequently used to measure the quality of clinical markers as well as machine-learning algorithms17. After teaching the Roche/IBM model using the seven prioritized features, the AUC of our prediction algorithm was 0.7937 (95% confidence interval, 0.790, 0.797) (Explorys, 0.761; INPC, 0.831) when applied to the overall independent validation data (see also Supplementary Table 2).
Differences in Roche/IBM classification results between people with diabetes type 1 and type 2 amount to |Δ(AUC)|≤ 0.034 (Supplementary Table 3), and the gender bias is ≤0.025 (Supplementary Table 4).
Additional analysis shows that an increase in the number of features yields merely a small improvement of AUC (10 features, 0.7939; 12 features, 0.7967). 
Although age is considered one of the major factors in kidney function, a logistic regression algorithm purely taught on age delivers an AUC of only 0.712 (0.707, 0.717) for the INPC cohort. In turn, if the age of the INPC’s individuals is disregarded (that is, replaced by the mean value of the cohort) the quality of prediction is reduced by only 0.023 from AUC= 0.831 (0.827, 0.836) to AUC= 0.808 (0.802, 0.813). The Roche/IBM algorithm is vastly superior to a simple risk stratification model18 based on HbA1C solely (AUC= 0.483 (0.477, 0.489) for INPC data; Supplementary Fig. 2).
我们直接比较了从临床数据和实际数据（RWD）得出的算法，并重点研究了量化慢性肾脏病（CKD）9-11作为微血管长期风险的医学，社会和经济上重要的例子糖尿病并发症（另见补充表1）。
从IBM Explorys数据库12（补充图1）中检索了来自417,912名糖尿病患者（1型和2型）的EHR数据。对于每个人，提取的数据始于最初诊断糖尿病前的2年，一直持续到此诊断后长达3年。我们使用数据驱动的，医学上支持的特征选择策略，而不是Miotto等人的“深度患者”策略，因为“深度患者”是一种无监督的特征选择方法，最适合使用数百种特征进行多种疾病的风险预测。相反，Roche / IBM方法使用有限数量特征的监督选择并针对单一疾病。
在数据驱动和医学选择的基础上，选择年龄，体重指数和肾小球滤过率以及肌酐，白蛋白，葡萄糖和血红蛋白（HbA1C）的浓度作为重要的预测指标。使用这七个功能，我们特意选择逻辑回归13作为教学方法，而不是诸如深度学习14之类的黑盒方法，以对数据驱动的分析进行医学解释。教学后，将来自同一数据库中104,504个其他个体的独立数据样本集用于独立验证。此外，将罗氏/ IBM算法应用于来自印第安纳州患者护理网络（INPC）数据库15中的82,912位2型糖尿病患者的数据。值得注意的是，这些提取的数据集构成了迄今用于研究CKD作为糖尿病长期并发症的最大RWD基础。
接收器工作特性曲线16（AUC）下方的区域通常用于测量临床标志物以及机器学习算法的质量17。在使用7个优先级特征教授了Roche / IBM模型后，将预测算法应用于整体独立验证数据时，其AUC为0.7937（95％置信区间，0.790，0.797）（Explorys，0.761； INPC，0.831）（请参见以及补充表2）。
1型和2型糖尿病患者在Roche / IBM分类结果中的差异|Δ（AUC）|≤0.034（补充表3），性别偏倚≤0.025（补充表4）。
进一步的分析表明，特征数量的增加仅对AUC产生了很小的改进（10个特征，0.7939； 12个特征，0.7967）。
尽管年龄被认为是影响肾功能的主要因素之一，但单纯按年龄讲授的逻辑回归算法对INPC队列的AUC仅为0.712（0.707，0.717）。反过来，如果忽略了INPC的个人年龄（即用队列的平均值代替），则预测质量将仅降低0.023，从AUC = 0.831（0.827，0.836）降至AUC = 0.808（0.802， 0.813）。 Roche / IBM算法大大优于仅基于HbA1C的简单风险分层模型18（对于INPC数据，AUC = 0.483（0.477，0.489）；补充图2）。

The Roche/IBM algorithm was also compared to published algorithms derived from data sourced from major clinical studies, such as the ONTARGET, ORIGIN, RENAAL, and ADVANCE studies (it is important to note that the creation of predictive algorithms was not the primary goal of these clinical studies). The features that were prioritized for classification with the Roche/IBM algorithm are similar to those reported in the literature (Supplementary Table 5). The Roche/IBM algorithm outperformed each of the literature algorithms for all RWD cohorts (Fig. 1a). In addition, the Roche/IBM algorithm performs better than the literature algorithms even if subcohorts are specifically selected according to the inclusion and exclusion criteria of the individual literature studies (Fig. 1b). 
Further analysis shows that differences in the veracity, definition, and/or severity of CKD outcome cannot sufficiently account for the differences in AUC. To analyze the impact of the actual machinelearning approach, random forest models23 for binary classification were trained on the INPC dataset. The random forest models delivered AUCs of 0.833 (0.824, 0.841) and 0.849 (0.841, 0.857) for the 7-feature model and the 35-feature model, respectively, as compared to an INPC-specific logistic regression model (7 features, AUC= 0.827 (0.818, 0.835)). Conceptually, an increase in sample size improves the teaching capabilities and delivers more representative results when applied to an independent validation dataset (Fig. 2a). However, the sampling appears to be representative for teaching sets with ≥10^3 samples. Considering that the literature algorithms19C22 were derived from clinical study data typically involving around 104 patients, as well as on the basis of further analysis, we conclude that the large number of patients is not the main reason for the superiority of the Roche/IBM algorithm (Supplementary Fig. 3 and Supplementary Table 6).
The use of RWD and in particular the inclusion of incomplete or erroneous data in the training set for the Roche/IBM algorithm is a major difference compared with algorithms based on clinical study data. The imputation of missing data provides a typical example of predictive analytics in RWD cohorts, whereas imputation is a delicate mean in a clinical study setting. The classification accuracy rapidly deteriorates with increasing fraction of imputed data for the literature algorithms19C22, whereas the Roche/IBM algorithm achieved much higher stability, even for higher proportions of imputed data (Fig. 2b and Supplementary Table 7).
We conclude that―at least in the present example―the teaching of predictive analytics algorithms using RWD could achieve equivalent or even enhanced accuracy compared with those using clinical trial data, but further testing on additional datasets will be necessary before these conclusions can be generalized. We speculate that it is the diversity of the RWD that makes the prediction algorithm better suited for generalization. These findings may fuel the fundamental debate on the future of medical evidence5 in that the explorative analysis and interpretation of data beyond the original goals of the underlying costly, long-lasting clinical trials on a limited number of patients may one day be augmented, or in specific cases even partly replaced, by RWD-driven risk assessments. 
还将Roche / IBM算法与从主要临床研究（例如ONTARGET，ORIGIN，RENAAL和ADVANCE研究）获得的数据衍生的已发布算法进行了比较（重要的是要注意，创建预测算法不是这些临床研究）。使用Roche / IBM算法优先进行分类的功能与文献中所报告的功能相似（补充表5）。对于所有RWD队列，Roche / IBM算法的性能均优于每种文献算法（图1a）。此外，即使根据各个文献研究的纳入和排除标准专门选择了子队列，Roche / IBM算法的性能也比文献算法更好（图1b）。
进一步的分析表明，CKD结局的准确性，清晰度和/或严重性方面的差异无法充分说明AUC的差异。为了分析实际机器学习方法的影响，在INPC数据集上训练了用于二进制分类的随机森林模型23。与特定于INPC的逻辑回归模型（7个特征，AUC）相比，随机特征森林模型针对7个特征模型和35个特征模型分别提供了0.833（0.824，0.841）和0.849（0.841，0.857）的AUC。 = 0.827（0.818，0.835）。从概念上讲，增加样本量可提高教学能力，并应用于独立的验证数据集时，可以提供更具代表性的结果（图2a）。但是，对于具有≥10^ 3个样本的示教集，样本似乎具有代表性。考虑到文献算法19-22是从通常涉及约104名患者的临床研究数据中得出的，并且在进一步分析的基础上，我们得出的结论是，大量患者并不是罗氏/ IBM优势的主要原因算法（补充图3和补充表6）。
与基于临床研究数据的算法相比，使用RWD尤其是在Roche / IBM算法的训练集中包含不完整或错误的数据是一个主要区别。缺失数据的插补提供了RWD队列中预测分析的典型示例，而插补在临床研究中是微妙的手段。对于文献算法19C22，分类准确性随着输入数据的分数的增加而迅速恶化，而即使对于更高比例的输入数据，Roche / IBM算法也具有更高的稳定性（图2b和补充表7）。
我们得出结论，至少在本示例中，与使用临床试验数据的方法相比，使用RWD的预测分析算法的教学可以达到同等甚至更高的准确性，但是在将这些结论归纳之前，有必要对其他数据集进行进一步的测试。我们推测正是RWD的多样性使预测算法更适合于泛化。这些发现可能会引发关于医学证据未来5的根本辩论，因为有一天可能会扩大对有限数量患者的潜在昂贵，长期临床试验的原始目标之外的数据的探索性分析和解释，或者由RWD驱动的风险评估甚至部分取代了特定案例。

